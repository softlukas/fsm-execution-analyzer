{
  "automaton_name": "Thermostat",
  "initial_state_enum_id": "STATE_OFF",
  "initial_state_name": "Off",
  "inputs": [
    "set_setpoint",
    "temp"
  ],
  "outputs": [
    "heater_state"
  ],
  "states": [
    {
      "action": "output(\"heater_state\", 1); // 1 = On",
      "enum_id": "STATE_HEATING",
      "func_id": "action_HEATING",
      "initial": false,
      "name": "Heating"
    },
    {
      "action": "output(\"heater_state\", 0); // 0 = Off",
      "enum_id": "STATE_OFF",
      "func_id": "action_OFF",
      "initial": true,
      "name": "Off"
    }
  ],
  "transitions": [
    {
      "delay": null,
      "delay_var_original": null,
      "event": "temp",
      "guard": "atof(valueof(\"temp\")) < setpoint",
      "source": "Off",
      "target": "Heating",
      "target_enum_id": "STATE_HEATING",
      "template_index0": 0
    },
    {
      "delay": null,
      "delay_var_original": null,
      "event": "temp",
      "guard": "atof(valueof(\"temp\")) >= setpoint",
      "source": "Heating",
      "target": "Off",
      "target_enum_id": "STATE_OFF",
      "template_index0": 1
    },
    {
      "delay": -1,
      "delay_var_original": "max_heat_time",
      "event": null,
      "guard": null,
      "source": "Heating",
      "target": "Off",
      "target_enum_id": "STATE_OFF",
      "template_index0": 2
    },
    {
      "delay": null,
      "delay_var_original": null,
      "event": "set_setpoint",
      "guard": null,
      "source": "Off",
      "target": "Off",
      "target_enum_id": "STATE_OFF",
      "template_index0": 3
    },
    {
      "delay": null,
      "delay_var_original": null,
      "event": "set_setpoint",
      "guard": null,
      "source": "Heating",
      "target": "Heating",
      "target_enum_id": "STATE_HEATING",
      "template_index0": 4
    }
  ],
  "variables": [
    {
      "initial_value": "10000",
      "initial_value_cpp": "10000",
      "name": "max_heat_time",
      "type": "int"
    },
    {
      "initial_value": "20.0",
      "initial_value_cpp": "20.0",
      "name": "setpoint",
      "type": "double"
    }
  ]
}